<ion-header>
    <ion-toolbar class="toolbar-color1">
        <ion-row>
            <ion-col size='4'>
                <div class="rao_logo" routerLink="/home/dashboard">
                    <ion-img src="../../assets/images/raoinfotech-logo.png" class="logo_img"></ion-img>
                </div>
                <img src="../../../assets/images/dashboard.png" alt="meter">
            </ion-col>
            <ion-col size='4'>
                <div class="middle_sec text-center">
                    <span>Report</span>
                </div>
            </ion-col>
            <ion-col size='4'>
                <div class="icon_sec">
                    <img src="../../../assets/images/Path 250.png" routerLink="/home/notification" class="mr-3"
                        alt="notification">
                    <img src="../../../assets/images/exit.png" (click)="logout()" alt="logout button">
                </div>
            </ion-col>
        </ion-row>
    </ion-toolbar>
</ion-header>


<ion-content>
    <div class="report">
        <div class="sorting_month_year">
            <div class="row m-0">
                <div class="col-6">
                    <div class="sorting_input w-100">
                        <form [formGroup]='monthLeaveForm'>
                            <ion-datetime displayFormat="MMMM YYYY" formControlName="month" class="sorting_dates"
                                placeholder="Sort By Month" (ionChange)=getMonthLeaveReport(monthLeaveForm.value.month) max="{{nextYear}}"
                                >
                            </ion-datetime>
                        </form>
                        <ion-icon class="sorting_icon" name="ios-funnel"></ion-icon>
                    </div>
                </div>
                <div class="col-6">
                    <div class="sorting_input w-100">
                        <form [formGroup]='yearLeaveForm'>
                            <ion-datetime formControlName="year" displayFormat="YYYY" class="sorting_dates"
                                placeholder="Sort By Year" (ionChange)=getYearLeaveReport(yearLeaveForm.value.year) max="{{nextYear}}">
                            </ion-datetime>
                        </form>
                        <ion-icon class="sorting_icon" name="md-funnel"></ion-icon>
                    </div>
                </div>
            </div>
        </div>

        <span class="showingResults" *ngIf="showingResults">
            Showing results for <span class="showingResultsInner">{{showingResults}}</span>
        </span><br>
        <span *ngIf="monthLeaveReport.length">
            <ion-card *ngFor="let report of monthLeaveReport">
                <div class="row">
                    <div class="col-2">
                        <div class="report-profile mt-3">
                            <img src="../../../assets/images/hover-3.jpg" class="img-fluid" alt="profile image">
                        </div>
                    </div>
                    <div class="col-10">
                        <div class="row">
                            <div class="col-12 p-0">
                                <h3>{{report.userId.name}}</h3>
                                <p>{{report.reason}}</p>
                            </div>
                            <div class="col-6 p-0" *ngIf="report.status == 'Approved'">
                                <span class="approved">status</span>
                                <p class="status">Approved</p>
                            </div>
                            <div class="col-6 p-0" *ngIf="report.status == 'Pending'">
                                <span class="pending">status</span>
                                <p class="status">Approved</p>
                            </div>
                            <div class="col-6 p-0" *ngIf="report.status == 'Rejected'">
                                <span class="rejected">status</span>
                                <p class="status">Approved</p>
                            </div>
                            <div class="col-6 p-0">
                                <span class="apply">Applied For Leaves</span>
                                <p class="days">{{report.noOfDays}} Days</p>
                            </div>
                        </div>
                    </div>
                </div>
            </ion-card>
        </span>
        <span class="no-leave-of-month" *ngIf="showingResults">
            No leaves in {{showingResults}}!
        </span>

        <span *ngIf="yearLeaveReport.length">
            <ion-card *ngFor="let report of yearLeaveReport">
                <div class="row">
                    <div class="col-2">
                        <div class="report-profile mt-3">
                            <img src="../../../assets/images/hover-3.jpg" class="img-fluid" alt="profile image">
                        </div>
                    </div>
                    <div class="col-10">
                        <div class="row">
                            <div class="col-12 p-0">
                                <h3>{{report.name}}</h3>
                                <p>{{report.reason}}</p>
                            </div>
                            <div class="col-6 p-0" *ngIf="report.status == 'Approved'">
                                <span class="approved">status</span>
                                <p class="status">Approved</p>
                            </div>
                            <div class="col-6 p-0" *ngIf="report.status == 'Pending'">
                                <span class="pending">status</span>
                                <p class="status">Approved</p>
                            </div>
                            <div class="col-6 p-0" *ngIf="report.status == 'Rejected'">
                                <span class="rejected">status</span>
                                <p class="status">Approved</p>
                            </div>
                            <div class="col-6 p-0">
                                <span class="apply">Applied For Leaves</span>
                                <p class="days">{{report.noOfDays}} Days</p>
                            </div>
                        </div>
                    </div>
                </div>
            </ion-card>
        </span>
        <span class="no-leave-of-year" *ngIf="showingResults">
            No leaves in {{showingResults}}!
        </span>
    </div>
</ion-content>