<ion-header>
    <ion-toolbar class="toolbar-color1">
        <ion-row>
            <ion-col size='4'>
                <div class="rao_logo">
                    <ion-img src="../../assets/images/raoinfotech-logo.png" class="logo_img"></ion-img>
                </div>
            </ion-col>
            <ion-col size='4'>
                <div class="middle_sec text-center">
                    <span>Leave Application</span>
                </div>
            </ion-col>
            <ion-col size='4'>
                <div class="icon_sec">
                    <ion-icon name="notifications"></ion-icon>
                  </div>
            </ion-col>
        </ion-row>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="loader" *ngIf="loading">
        <img class="loading_img" src="../../assets/images/loader.gif" />
    </div>
    <div class="contect_class">
        <div *ngIf="PendingLeaves.length">
            <div *ngFor="let leave of PendingLeaves ;let i=index">
                <div class="card" style="cursor: pointer;">
                    <div class="card-content  w-100 pending_leaves">
                        <div class="profile_div">
                            <div class="image_profile">
                                <img src="../../../assets/images/person.png" alt="profil image">
                            </div>
                            <div class="application_detail">
                                <strong>{{leave.userId.name}}</strong>
                                <div *ngIf="leave.totalDate.length > 1">
                                    <div class="row">
                                        <div class="col-6 pr-0">
                                            <p><span>From:</span>{{leave.totalDate[0]}}</p>
                                        </div>
                                        <div class="col-6 p-0">
                                            <p><span>To:</span> {{leave.totalDate[leave.totalDate.length-1]}}</p>
                                        </div>
                                    </div>
                                </div>
                                <p *ngIf="leave.totalDate.length == 1"><span>Date:</span>{{leave.totalDate[0]}}</p>
                                <p><span>Applied On:</span>{{leave.appliedOn}}</p>
                                <p><span>Day:</span>{{getNoOfDays(leave)}}</p>
                                <p><span>Reason:</span>{{leave.reason}}</p>
                                <p *ngIf="leave.extraHours"><span>Compensation:</span>{{leave.extraHours}}</p>
                                <!-- <div class="reason_text text-white"></div> -->
                            </div>
                        </div>
                        <div class="accept_reject_btngroup">
                            <button class="btn accept" (click)="leaveApproval(leave._id,'Rejected')">Accept</button>
                            <button class="btn reject" (click)="leaveApproval(leave._id,'Approved')">Reject</button>
                        </div>
                        <!-- <div class="row">
                            <div class="col-4">
                                <label for="o{{i}}">
                  <span class="text-center user_name">{{leave.userId.name}}</span>
                </label>
                            </div>
                            <div class="col-4">
                                <label for="o{{i}}">
                  <span class="text-center number_of_days">{{getNoOfDays(leave)}}</span>
                </label>
                            </div>

                            <div class="col-4  text-center">
                                <span (click)="leaveApproval(leave._id,'Rejected')" class="float-right check_cross  ml-3 ">
                  <ion-img src="../../assets/images/cancel.png"></ion-img>
                </span>
                                <span (click)="leaveApproval(leave._id,'Approved')" class="float-right check_right">
                  <ion-img src="../../assets/images/right.png"></ion-img>
                </span>
                            </div>
                        </div> -->
                    </div>
                    <input class="checker" type="checkbox" id="o{{i}}" hidden (click)="openModal()">
                    <div class="modal">
                        <div class="modal-body">
                            <div class="modal-content">
                                <div class="row">
                                    <div class="col-12">
                                        <p class="text-white">Reason :</p>
                                        <div class="reason_text text-white">{{leave.reason}}</div>
                                    </div>
                                    <div class="col-12">
                                        <p class="text-white">Date :</p>
                                        <div class="reason_text text-white">{{leave.date.date}}/{{leave.date.month}}/{{leave.date.year}}
                                        </div>
                                    </div>
                                    <div class="col-12" *ngIf="leave.extraHours">
                                        <p class="text-white">Compensation :</p>
                                        <div class="reason_text text-white">{{leave.extraHours}}
                                        </div>
                                    </div>
                                </div>
                                <div class="ok_btn text-center mt-3">
                                    <label for="o{{i}}">Ok</label>
                                </div>
                            </div>
                            <div class="close_btn">
                                <label for="o{{i}}">X</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="pendingLeavesCount == 0" class=" text-center mt-4">
        <p style="font-size: 25px;">There are no leaves...</p>
    </div>
</ion-content>